<div *ngIf="currentUser" class="group flex items-center self-end pb-4 pt-4 pr-5 bg-slate-500" dir="rtl">
  
  <a routerLink="/profile" class="">
  <img class="shrink-0 h-12 w-12 rounded-full" src="../../assets/user.png" alt="profile-icon" />
  </a>
  <div class="rtl:ml-3 ltr:mr-3">
    <p class="font-medium text-xl text-black">&nbsp;&nbsp;{{ currentUser.username }}</p>
    <p class="text-sm font-medium text-gray-700 ">&nbsp;&nbsp;{{ currentUser.role }}</p>
  </div>
  
</div>

<div class="mt-10 mb-10 text-right mr-6 pr-8">
  <button *ngIf="currentUser?.role === 'D'" (click)="toggleAddForm()" 
    class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4">
    ADD FOOD
  </button>
  &nbsp;
  <button class="bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-[20px]">
    VIEW REQUESTS
  </button>
</div>
<div *ngIf="isPending" class="text-center mx-auto mt-[20%] text-orange-500 font-semibold">
  <p class="md:text-2xl text-sm">Loading...</p>
</div>


<div *ngIf="!isPending" class="flex flex-wrap px-4 mx-6">
    <div *ngFor="let food of foods;" class="w-full md:w-1/4 px-4 py-4">
        <div style="min-width: 200px;" class="bg-white h-72 shadow-lg p-2 flex flex-col justify-between items-center border border-slate-600">
            <div>
              <img [src]="food?.image" alt="food-image" class="mx-auto object-contain max-h-[200px] max-w-[200px]" [height]="250" [width]="250">
              <p class="font-bold text-slate-600">{{ food.distributor }}</p>
              <!-- <p>{{ food.description }}</p> -->
              <p class="text-slate-600">{{ (food.foods.toString().length > 25 ? (food.foods.toString() | slice:0:25) + '...' : food.foods) }}</p>
              <p class="text-slate-600">{{ food.location }}</p>
            </div>
            <a [routerLink]="['/foods', food._id]" class="text-blue-500 self-end underline">View Details</a>
        </div>
    </div>
</div>
  
  
  <div *ngIf="addFormVisible" class="fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75">
    <div class="bg-white p-8 shadow-lg w-1/2">
      <form #form>
        <div class="mb-4">
          <label for="title" class="font-bold">Title&nbsp;</label>
          <input type="text" name="" id="title" class="shadow appearance-none w-full border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline">
        </div>
  
        <div class="mb-4">
            <label for="distributor" class="font-bold">Distributor&nbsp;</label>
            <input type="text" name="" id="distributor" class="shadow appearance-none w-full border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline">
        </div>

        <div class="mb-4">
          <label for="quantity" class="font-bold">Quantity&nbsp;</label>
          <input type="text" name="" id="quantity" class="shadow appearance-none w-full border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline">
        </div>
  
        <div class="mb-4">
          <label for="location" class="font-bold">Location&nbsp;</label>
          <input type="text" name="" id="location" class="shadow appearance-none w-full border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline">
        </div>
  
        <div class="flex items-center justify-center">
            <input type="submit" value="ADD" class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 focus:outline-none focus:shadow-outline">&nbsp;
            <!-- Cancel to be implemeted -->
            <input type="submit" value="CANCEL" class="bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 focus:outline-none focus:shadow-outline">
        </div>
        
      </form>
    </div>
  </div>
  